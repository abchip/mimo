<?xml version="1.0" encoding="UTF-8"?>
<screens xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xmlns="http://ofbiz.apache.org/Widget-Screen"
	xsi:schemaLocation="http://ofbiz.apache.org/Widget-Screen http://ofbiz.apache.org/dtds/widget-screen.xsd">

	<screen name="MainScreen">
		<section>
			<widgets>
				<decorator-screen name="main-decorator"
					location="${parameters.mainDecoratorLocation}">
					<decorator-section name="title">
						<label text="Context Information" />
					</decorator-section>
					<decorator-section name="body">
						<container>
							<label style="h1">${uiLabelMap.LearningApplication_description}:
								${uiLabelMap.LearningApplication}
							</label>
						</container>
						<container>
							<label style="h1">${uiLabelMap.LearningCompanyName_description}:
								${uiLabelMap.LearningCompanyName}
							</label>
						</container>
						<container>
							<label style="h1">${uiLabelMap.LearningCompanySubtitle_description}:
								${uiLabelMap.LearningCompanySubtitle}
							</label>
						</container>
					</decorator-section>
				</decorator-screen>
			</widgets>
		</section>
	</screen>
	<screen name="SimplestScreen">
		<section>
			<actions>
				<set field="headerItem" value="SimplestScreen" />
			</actions>
			<widgets>
				<decorator-screen name="main-decorator"
					location="${parameters.mainDecoratorLocation}">
					<decorator-section name="title">
						<label text="Simplest Title" />
					</decorator-section>
					<decorator-section name="body">
						<label text="Simplest Screen possible" />
					</decorator-section>
				</decorator-screen>
			</widgets>
		</section>
	</screen>
	<screen name="ConditionalScreen">
		<section>
			<actions>
				<set field="headerItem" value="ConditionalScreen" />
			</actions>
			<widgets>
				<decorator-screen name="main-decorator"
					location="${parameters.mainDecoratorLocation}">
					<decorator-section name="title">
						<label text="Conditional Title" />
					</decorator-section>
					<decorator-section name="body">
						<include-menu name="ConditionalScreenSubMenu"
							location="component://learning/widget/learning/LearningMenus.xml" />
						<section>
							<condition>
								<if-compare field="parameters.show" operator="equals"
									value="widgets" />
							</condition>
							<actions>
								<set field="blah" value="blih" />
							</actions>
							<widgets>
								<label text="Condition blah is: ${blah}" />
							</widgets>
							<fail-widgets>
								<label text="Condition failed, blah is: ${blah}" />
							</fail-widgets>
						</section>
					</decorator-section>
				</decorator-screen>
			</widgets>
		</section>
	</screen>
	<screen name="NestedScreen">
		<section>
			<actions>
				<set field="headerItem" value="Nested" />
			</actions>
			<widgets>
				<decorator-screen name="main-decorator"
					location="${parameters.mainDecoratorLocation}">
					<decorator-section name="title">
						<label text="Nested Title" />
					</decorator-section>
					<decorator-section name="body">
						<section>
							<condition>
								<if-compare field="parameters.outer" operator="equals"
									value="true" />
							</condition>
							<actions>
								<set field="blah" value="blih" />
							</actions>
							<widgets>
								<container>
									<label text="In Then part. Blah is: ${blah}" />
								</container>
								<container>
									<label text="inner is: ${parameters.inner}" />
								</container>
								<section>
									<condition>
										<if-compare field="parameters.inner" operator="equals"
											value="true" />
									</condition>
									<actions>
										<set field="inner.blah" value="thenBlih" />
									</actions>
									<widgets>
										<label text="In Then-Then part. inner.blah is: ${inner.blah}" />
									</widgets>
									<fail-widgets>
										<label text="In Then-Else part. inner.blah is: ${inner.blah}" />
									</fail-widgets>
								</section>
							</widgets>
							<fail-widgets>
								<container>
									<label text="In Else part. Blah is: ${blah}" />
								</container>
								<container>
									<label text="inner is: ${parameters.inner}" />
								</container>
								<section>
									<condition>
										<if-compare field="parameters.inner" operator="equals"
											value="true" />
									</condition>
									<actions>
										<set field="inner.blah" value="elseBlih" />
									</actions>
									<widgets>
										<label text="In Else-Then part. inner.blah is: ${inner.blah}" />
									</widgets>
									<fail-widgets>
										<label text="In Else-Else part. inner.blah is: ${inner.blah}" />
									</fail-widgets>
								</section>
							</fail-widgets>
						</section>
					</decorator-section>
				</decorator-screen>
			</widgets>
		</section>
	</screen>
	<screen name="GlobalContextScreen">
		<section>
			<actions>
				<set field="headerItem" value="GlobalContext" />
			</actions>
			<widgets>
				<decorator-screen name="main-decorator"
					location="${parameters.mainDecoratorLocation}">
					<decorator-section name="title">
						<label text="Global Title" />
					</decorator-section>
					<decorator-section name="body">
						<section>
							<actions>
								<set field="global1" value="Global Value A" global="true" />
								<set field="local1" value="Local Value a" />
								<script location="component://learning/script/GlobalContext.groovy" />
							</actions>
							<widgets>
								<include-screen name="GlobalContext_1" />
								<horizontal-separator />
								<container>
									<label text="GlobalContext screen:" />
								</container>
								<container>
									<label text="global1: ${global1}" />
								</container>
								<container>
									<label text="global2: ${global2}" />
								</container>
								<container>
									<label text="global3: ${global3}" />
								</container>
								<container>
									<label text="global4: ${global4}" />
								</container>
								<container>
									<label text="local1: ${local1}" />
								</container>
								<container>
									<label text="local2: ${local2}" />
								</container>
								<container>
									<label text="local3: ${local3}" />
								</container>
								<container>
									<label text="local4: ${local4}" />
								</container>
							</widgets>
						</section>
					</decorator-section>
				</decorator-screen>
			</widgets>
		</section>
	</screen>
	<screen name="CompoundedScreen">
		<section>
			<actions>
				<set field="headerItem" value="CompoundedScreen" />
			</actions>
			<widgets>
				<decorator-screen name="main-decorator"
					location="${parameters.mainDecoratorLocation}">
					<decorator-section name="title">
						<label text="Compounded Title" />
					</decorator-section>
					<decorator-section name="body">
						<include-screen name="Compounded_1" />
						<horizontal-separator />
						<include-screen name="Compounded_2" />
					</decorator-section>
				</decorator-screen>
			</widgets>
		</section>
	</screen>
	<screen name="OneFormScreen">
		<section>
			<actions>
				<set field="headerItem" value="OneFormScreen" />
			</actions>
			<widgets>
				<decorator-screen name="main-decorator"
					location="${parameters.mainDecoratorLocation}">
					<decorator-section name="title">
						<label text="OneForm Title" />
					</decorator-section>
					<decorator-section name="body">
						<include-form name="FirstForm"
							location="component://learning/widget/learning/LearningForms.xml" />
						<section>
							<condition>
								<not>
									<if-empty field="parameters.submit" />
								</not>
							</condition>
							<widgets>
								<container>
									<label text="firstName: ${parameters.firstName}" />
								</container>
								<container>
									<label text="lastName: ${parameters.lastName}" />
								</container>
								<container>
									<label text="combined: ${parameters.combined}" />
								</container>
								<container>
									<label text="submit: ${parameters.submit}" />
								</container>
								<container>
									<label text="All the parameters we received:" />
								</container>
								<container>
									<label text="${parameters.allParams}" />
								</container>
							</widgets>
						</section>
					</decorator-section>
				</decorator-screen>
			</widgets>
		</section>
	</screen>
	<screen name="ListFormScreen">
		<section>
			<actions>
				<set field="headerItem" value="ListFormScreen" />
			</actions>
			<widgets>
				<decorator-screen name="main-decorator"
					location="${parameters.mainDecoratorLocation}">
					<decorator-section name="title">
						<label text="ListForm Title" />
					</decorator-section>
					<decorator-section name="body">
						<section>
							<actions>
								<set field="row1.firstName" value="First1" />
								<set field="row1.lastName" value="Last1" />
								<set field="row2.firstName" value="First2" />
								<set field="row2.lastName" value="Last2" />
								<set field="row3.firstName" value="First3" />
								<set field="row3.lastName" value="Last3" />
								<set field="listOfRecords[]" from-field="row1" />
								<set field="listOfRecords[]" from-field="row2" />
								<set field="listOfRecords[]" from-field="row3" />
							</actions>
							<widgets>
								<include-form name="ListForm"
									location="component://learning/widget/learning/LearningForms.xml" />
								<include-screen name="ShowProcessing" />
							</widgets>
						</section>
					</decorator-section>
				</decorator-screen>
			</widgets>
		</section>
	</screen>
	<screen name="MultiFormScreen">
		<section>
			<actions>
				<set field="headerItem" value="MultiFormScreen" />
			</actions>
			<widgets>
				<decorator-screen name="main-decorator"
					location="${parameters.mainDecoratorLocation}">
					<decorator-section name="title">
						<label text="MultiForm Title" />
					</decorator-section>
					<decorator-section name="body">
						<section>
							<actions>
								<script location="component://learning/script/LoadListData.groovy" />
							</actions>
							<widgets>
								<include-form name="MultiForm"
									location="component://learning/widget/learning/LearningForms.xml" />
								<include-screen name="ShowProcessing" />
							</widgets>
						</section>
					</decorator-section>
				</decorator-screen>
			</widgets>
		</section>
	</screen>
	<screen name="TwoTargetFormScreen">
		<section>
			<actions>
				<set field="headerItem" value="TwoTargetFormScreen" />
			</actions>
			<widgets>
				<decorator-screen name="main-decorator"
					location="${parameters.mainDecoratorLocation}">
					<decorator-section name="title">
						<label text="TwoTargetForm Title" />
					</decorator-section>
					<decorator-section name="body">
						<section>
							<actions>
								<entity-one entity-name="Person" value-field="record" />
							</actions>
							<widgets>
								<include-form name="TwoTargetForm"
									location="component://learning/widget/learning/LearningForms.xml" />
								<include-form name="PlanetDropDown"
									location="component://learning/widget/learning/LearningForms.xml" />
							</widgets>
						</section>
					</decorator-section>
				</decorator-screen>
			</widgets>
		</section>
	</screen>
	<screen name="RowMutatingFormScreen">
		<section>
			<actions>
				<set field="headerItem" value="RowMutatingFormScreen" />
			</actions>
			<widgets>
				<decorator-screen name="main-decorator"
					location="${parameters.mainDecoratorLocation}">
					<decorator-section name="title">
						<label text="RowForm Title" />
					</decorator-section>
					<decorator-section name="body">
						<section>
							<actions>
								<set field="row1.firstName" value="First1" />
								<set field="row1.lastName" value="Last1" />
								<set field="row2.firstName" value="First2" />
								<set field="row2.lastName" value="Last2" />
								<set field="row3.firstName" value="First3" />
								<set field="row3.lastName" value="Last3" />
								<set field="listOfRecords[]" from-field="row1" />
								<set field="listOfRecords[]" from-field="row2" />
								<set field="listOfRecords[]" from-field="row3" />
							</actions>
							<widgets>
								<include-form name="RowMutatingForm"
									location="component://learning/widget/learning/LearningForms.xml" />
								<include-screen name="ShowProcessing" />
							</widgets>
						</section>
					</decorator-section>
				</decorator-screen>
			</widgets>
		</section>
	</screen>
	<screen name="ShowProcessing">
		<section>
			<condition>
				<not>
					<if-empty field="parameters.submit" />
				</not>
			</condition>
			<widgets>
				<container>
					<label text="firstName: ${parameters.firstName}" />
				</container>
				<container>
					<label text="lastName: ${parameters.lastName}" />
				</container>
				<container>
					<label text="combined: ${parameters.combined}" />
				</container>
				<container>
					<label text="submit: ${parameters.submit}" />
				</container>
				<container>
					<label text="All the parameters we received:" />
				</container>
				<container>
					<label text="${parameters.allParams}" />
				</container>
			</widgets>
		</section>
	</screen>
	<screen name="Compounded_1">
		<section>
			<widgets>
				<label text="Compounded_1" />
			</widgets>
		</section>
	</screen>
	<screen name="Compounded_2">
		<section>
			<widgets>
				<label text="Compounded_2" />
			</widgets>
		</section>
	</screen>

	<screen name="GlobalContext_1">
		<section>
			<actions>
				<set field="global3" value="Global Value C" global="true" />
				<set field="global4" value="Global Value D" global="true" />
				<set field="local3" value="Local Value c" />
				<set field="local4" value="Local Value d" />
				<set field="local1" value="Local Value z" />
			</actions>
			<widgets>
				<container>
					<label text="NestedScreen screen:" />
				</container>
				<container>
					<label text="global1: ${global1}" />
				</container>
				<container>
					<label text="global2: ${global2}" />
				</container>
				<container>
					<label text="global3: ${global3}" />
				</container>
				<container>
					<label text="global4: ${global4}" />
				</container>
				<container>
					<label text="local1: ${local1}" />
				</container>
				<container>
					<label text="local2: ${local2}" />
				</container>
				<container>
					<label text="local3: ${local3}" />
				</container>
				<container>
					<label text="local4: ${local4}" />
				</container>
			</widgets>
		</section>
	</screen>

	<screen name="ShowPlanetManyRelation">
		<section>
			<actions>
				<!-- First, get all planets. -->
				<entity-condition entity-name="Planet"
					filter-by-date="true" list="planets">
					<order-by field-name="planetName" />
				</entity-condition>
			</actions>
			<widgets>
				<decorator-screen name="main-decorator"
					location="${parameters.mainDecoratorLocation}">
					<decorator-section name="title">
						<label text="RowForm Title" />
					</decorator-section>
					<decorator-section name="body">
						<!-- For each planet, show addresses -->
						<iterate-section entry="planet" list="planets">
							<section>
								<actions>
									<get-related value-field="planet" relation-name="PostalAddress"
										list="planetAddresses" />
								</actions>
								<widgets>
									<platform-specific>
										<html>
											<html-template
												location="component://learning/webapp/learning/planetAddresses.ftl" />
										</html>
									</platform-specific>
								</widgets>
							</section>
						</iterate-section>
					</decorator-section>
				</decorator-screen>
			</widgets>
		</section>
	</screen>

	<screen name="TestFirstService">
		<section>
			<widgets>
				<section>
					<condition>
						<if-empty field="formTarget" />
					</condition>
					<actions>
						<set field="formTarget" value="TestFirstService" />
						<set field="title" value="Testing Our First Service" />
					</actions>
					<widgets />
				</section>
				<decorator-screen name="main-decorator"
					location="${parameters.mainDecoratorLocation}">
					<decorator-section name="body">
						<include-form name="TestingServices"
							location="component://learning/widget/learning/LearningForms.xml" />
						<label text="Full Name: ${parameters.fullName}" />
					</decorator-section>
				</decorator-screen>
			</widgets>
		</section>
	</screen>

	<screen name="TestFirstServiceOutput">
		<section>
			<actions>
				<set field="formTarget" value="TestFirstServiceOutput" />
			</actions>
			<widgets>
				<include-screen name="TestFirstService" />
			</widgets>
		</section>
	</screen>

	<screen name="TestCallingServices">
		<section>
			<actions>
				<set field="formTarget" value="TestCallingServices" />
			</actions>
			<widgets>
				<include-screen name="TestFirstService" />
			</widgets>
		</section>
	</screen>

	<screen name="TestCallingServicesWithPermission">
		<section>
			<actions>
				<set field="formTarget" value="TestCallingServicesWithPermission" />
			</actions>
			<widgets>
				<include-screen name="TestFirstService" />
			</widgets>
		</section>
	</screen>

</screens>
